<div style="padding: 20px; max-width: 800px; margin: 20px auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h2>Dashboard</h2>
      <button 
        (click)="logout()" 
        style="padding: 8px 16px; background: #d13438; color: white; border: none; border-radius: 4px; cursor: pointer;">
        Logout
      </button>
    </div>
    
    <div *ngIf="loading" style="text-align: center; margin: 40px 0;">
      <p>Loading user information...</p>
    </div>
    
    <div *ngIf="!loading && user">
      <div style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <h3>Welcome, {{ user.user.name || 'User' }}!</h3>
        <p *ngIf="user.user.email"><strong>Email:</strong> {{ user.user.email }}</p>
        <!-- <p *ngIf="user"><strong>Subject ID:</strong> {{ user }}</p> -->
      </div>
      
      <div *ngIf="user" style="background: #fff; border: 1px solid #ddd; padding: 20px; border-radius: 8px;">
        <h3>User Attributes from Azure AD:</h3>
        <div style="background: #f9f9f9; padding: 15px; border-radius: 4px; font-family: monospace; white-space: pre-wrap; max-height: 400px; overflow-y: auto;">{{ formatAttributes(user) }}</div>
      </div>
    </div>
    
    <div *ngIf="!loading && !user" style="text-align: center; margin: 40px 0;">
      <p>No user information available. Please log in again.</p>
      <button 
        (click)="goToLogin()" 
        style="padding: 10px 20px; background: #0078d4; color: white; border: none; border-radius: 4px; cursor: pointer;">
        Go to Login
      </button>
    </div>
  </div>